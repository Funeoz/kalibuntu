#! /usr/bin/env bash

install_sqlmap () {
    echo "Installing sqlmap from pip3..."
    pip3 install --user sqlmap >> ../../kalibuntu.log 2>&1
    echo " "
    echo "Installation finished"
    return
}

uninstall_sqlmap () {
    pip3 uninstall --user sqlmap -y >> ../../kalibuntu.log 2>&1
    return
}

update_sqlmap () {
    pip3 install --upgrade sqlmap >> ../../kalibuntu.log 2>&1
    echo " "
    echo "Update finished"
    return
}

return_to_install_script-2 () {
    clear
    ./install_script-2.sh
    return
}

main () {
    clear
    . banner.sh
    tput bold
    echo "Install/Uninstall/Update sqlmap ?"
    tput sgr0
    echo " "

    select choice in Install Uninstall Update back; do
        case $choice in 
        Install)
            install_sqlmap
            break
            ;;
        Uninstall)
            uninstall_sqlmap
            break
            ;;
        Update)
            update_sqlmap
            break
            ;;
        back)
            return_to_install_script-2
            break
            ;;
        *)
            clear
            main
            break
            ;;
        esac
    done
    return
}

main